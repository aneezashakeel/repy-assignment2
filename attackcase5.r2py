# Test: Overwriting 'S' should invalidate file
try:
  myfile = ABopenfile("testfile5.txt", True)
  myfile.writeat("SAFE", 0)
  myfile.close()
  
  myfile = ABopenfile("testfile5.txt", False)
  myfile.writeat("X", 0)  # Overwrite 'S'
  myfile.close()
  
  myfile = ABopenfile("testfile5.txt", False)
  data = myfile.readat(None, 0)
  if data[0] != 'S':
    log("BUG: File with corrupted S was saved!")
  myfile.close()
except:
  pass
